import{useState,useEffect,useCallback}from"react";export default function useFetchData(t){const[e,a]=useState(!1),[u,l]=useState(null),[r,s]=useState(null),[n,o]=useState(t),c=useCallback((async()=>{if(l(null),!n)return s("Error URL"),void a(!1);s(null),a(!0);try{const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);const e=await t.json();l(e),s(null),a(!1)}catch(t){s(t.message),l(null),a(!1)}}),[n]);return useEffect((()=>{c()}),[c]),{url:n,loading:e,error:r,data:u,load:c,updateUrl:o}}